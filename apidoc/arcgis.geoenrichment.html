

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>arcgis.geoenrichment module &mdash; arcgis 2.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="arcgis.geometry module" href="arcgis.geometry.html" />
    <link rel="prev" title="arcgis.geocoding module" href="arcgis.geocoding.html" />
<!-- This code block is inserted close near the <head> tag. See http://bit.ly/2BHUQzB -->
<!-- The point of this code block is to send us google analytics on website views -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJGGV5');</script>
 

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> arcgis
          

          
            
            <img src="_static/python_api_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">arcgis</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="arcgis.gis.toc.html">arcgis.gis module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.env.html">arcgis.env module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.features.toc.html">arcgis.features module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.raster.toc.html">arcgis.raster module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.network.toc.html">arcgis.network module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geoanalytics.toc.html">arcgis.geoanalytics module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geocoding.html">arcgis.geocoding module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">arcgis.geoenrichment module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#country">Country</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#arcgis.geoenrichment.Country"><code class="docutils literal notranslate"><span class="pre">Country</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.data_collections"><code class="docutils literal notranslate"><span class="pre">Country.data_collections</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.dataset"><code class="docutils literal notranslate"><span class="pre">Country.dataset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.enrich"><code class="docutils literal notranslate"><span class="pre">Country.enrich()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.enrich_variables"><code class="docutils literal notranslate"><span class="pre">Country.enrich_variables</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.geometry"><code class="docutils literal notranslate"><span class="pre">Country.geometry</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.get"><code class="docutils literal notranslate"><span class="pre">Country.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.levels"><code class="docutils literal notranslate"><span class="pre">Country.levels</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.properties"><code class="docutils literal notranslate"><span class="pre">Country.properties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.reports"><code class="docutils literal notranslate"><span class="pre">Country.reports</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.search"><code class="docutils literal notranslate"><span class="pre">Country.search()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.subgeographies"><code class="docutils literal notranslate"><span class="pre">Country.subgeographies</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#arcgis.geoenrichment.Country.travel_modes"><code class="docutils literal notranslate"><span class="pre">Country.travel_modes</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#get-countries">get_countries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#arcgis.geoenrichment.get_countries"><code class="docutils literal notranslate"><span class="pre">get_countries()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#create-report">create_report</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#arcgis.geoenrichment.create_report"><code class="docutils literal notranslate"><span class="pre">create_report()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#enrich">enrich</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#arcgis.geoenrichment.enrich"><code class="docutils literal notranslate"><span class="pre">enrich()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#standard-geography-query">standard_geography_query</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#arcgis.geoenrichment.standard_geography_query"><code class="docutils literal notranslate"><span class="pre">standard_geography_query()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#service-limits">service_limits</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#arcgis.geoenrichment.service_limits"><code class="docutils literal notranslate"><span class="pre">service_limits()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geometry.html">arcgis.geometry module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geoprocessing.html">arcgis.geoprocessing module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.graph.html">arcgis.graph module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.mapping.toc.html">arcgis.mapping module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.realtime.html">arcgis.realtime module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.schematics.html">arcgis.schematics module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.widgets.html">arcgis.widgets module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.apps.html">arcgis.apps module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.learn.toc.html">arcgis.learn module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.auth.html">arcgis.auth package</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">arcgis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>arcgis.geoenrichment module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
<!-- This code block is inserted close near the <body> tag. See http://bit.ly/2BHUQzB -->
<!-- The point of this code block is to send us google analytics on website views -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJGGV5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

  <div class="section" id="module-arcgis.geoenrichment">
<span id="arcgis-geoenrichment-module"></span><h1>arcgis.geoenrichment module<a class="headerlink" href="#module-arcgis.geoenrichment" title="Permalink to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">arcgis.geoenrichment</span></code> module provides access to Business Analyst’s 
demographic and jurisdictional areas data through enrichment, standard 
geography queries and reporting. The source for analysis can be either 
local or remote. Using a local source requires ArcGIS Pro with the 
Business Analyst extension and at least one country’s data pack to be 
installed. A remote source requires access to a property configured Web 
GIS. A Web GIS can either be ArcGIS Online or an instance of ArcGIS 
Enterprise with Business Analyst.</p>
<div class="section" id="country">
<h2>Country<a class="headerlink" href="#country" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arcgis.geoenrichment.</span></span><span class="sig-name descname"><span class="pre">Country</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iso3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.geoenrichment.Country" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables access to data and methods for a specific country. This
class can reference country data and methods available using data accessed through
both a Web GIS and a local installation of <cite>ArcGIS Pro with the Business Analyst
extension and local country data</cite> installed. Specifying this source is accomplished
using the <code class="docutils literal notranslate"><span class="pre">gis</span></code> parameter when instantiating. If using the keyword <code class="docutils literal notranslate"><span class="pre">Pro</span></code>,
<a class="reference internal" href="#arcgis.geoenrichment.Country" title="arcgis.geoenrichment.Country"><code class="xref py py-class docutils literal notranslate"><span class="pre">Country</span></code></a> will use ArcGIS Pro with Business Analyst
and will error if the specified country is not available locally. Available
countries can be discovered using <a class="reference internal" href="#arcgis.geoenrichment.get_countries" title="arcgis.geoenrichment.get_countries"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_countries()</span></code></a>.</p>
<dl class="py property">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.data_collections">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_collections</span></span><a class="headerlink" href="#arcgis.geoenrichment.Country.data_collections" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the supported data collections and analysis variables as a Pandas dataframe.</p>
<p>The dataframe is indexed by the data collection id(<code class="docutils literal notranslate"><span class="pre">dataCollectionID</span></code>) and
contains columns for analysis variables(<code class="docutils literal notranslate"><span class="pre">analysisVariable</span></code>).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.dataset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset</span></span><a class="headerlink" href="#arcgis.geoenrichment.Country.dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the currently used dataset for this country.json.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is only supported when using a Web GIS (ArcGIS Online
or ArcGIS Enterprise as the <code class="docutils literal notranslate"><span class="pre">gis</span></code> source.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.enrich">
<span class="sig-name descname"><span class="pre">enrich</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study_areas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enrich_variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_geometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standard_geography_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standard_geography_id_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proximity_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proximity_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proximity_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_spatial_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4326</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.geoenrichment.Country.enrich" title="Permalink to this definition">¶</a></dt>
<dd><p>Enrich provides access to a massive dataset describing exactly who people are
in a geographic location. The most common way to delineate study_areas for
enrichment is using polygons delineated areas, although points and lines can
be used as well.</p>
<p>When points or lines are provided, an area surrounding the geometries is used
for enrichment. This area can be defined using additional parameters, but by
default is one kilometer around the geometry. Also, only straight-line distance
is supported with line geometries, but points can use available transportation
network methods [typically drive distance or drive time].</p>
<p>While already popular for site analysis, forecast modeling for a store or
facility location, enrich provides access to a massive amount of data for any
analysis of people and their relationship and interaction with the surrounding
community, culture, economy and even the natural environment. Succinctly,
enrich is how to access data for human geography analysis.</p>
<p>The study_areas for enrichment can be provided in a number of forms: a Spatially
Enabled Pandas Data Frame or an Iterable my be provided. The iterable may be
comprised of <a class="reference internal" href="arcgis.geometry.html#arcgis.geometry.Geometry" title="arcgis.geometry.Geometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">Geometry</span></code></a> object instances or standard
geography identifiers. While other values, such as string addresses or
points-of-interest names may be provided, it is recommended to retrieve these
locations in your workflow before performing enrichment.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>study_areas</p></td>
<td><p>Required list, FeatureSet or SpatiallyEnabledDataFrame containing
the input areas to be enriched.</p></td>
</tr>
<tr class="row-odd"><td><p>enrich_variables</p></td>
<td><p>Enrich variables can be specified using either a list of strings or
the Pandas DataFrame returned from the ‘Country.enrich_variables`
property. If using a list of strings, the values are mached against
the <a class="reference internal" href="#arcgis.geoenrichment.Country.enrich_variables" title="arcgis.geoenrichment.Country.enrich_variables"><code class="xref py py-func docutils literal notranslate"><span class="pre">arcgis.geoenrichment.Country.enrich_variables()</span></code></a> dataframe
columns for <cite>name</cite>, ‘enrich_name’, or ‘enrich_field_name’. All the
values must match to one of these columns.</p></td>
</tr>
<tr class="row-even"><td><p>return_geometry</p></td>
<td><p>Boolean indicating if the geometry needs to be returned in the
output. The default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>standard_geography_level</p></td>
<td><p>If using a list of standard geography identifiers, the geography
level must be specified here. This value is the <code class="docutils literal notranslate"><span class="pre">level_name</span></code>
column retrieved in the
<a class="reference internal" href="#arcgis.geoenrichment.Country.levels" title="arcgis.geoenrichment.Country.levels"><code class="xref py py-func docutils literal notranslate"><span class="pre">arcgis.geoenrichment.Country.levels()</span></code></a> property.</p></td>
</tr>
<tr class="row-even"><td><p>standard_geography_id_column</p></td>
<td><p>If providing a Pandas DataFrame as input, and the DataFrame contains
a column with standard geography identifiers you desire to use for
specifying the input study_areas, please provide the name of the
column as a string in this parameter.</p></td>
</tr>
<tr class="row-odd"><td><p>proximity_type</p></td>
<td><p>If providing point geometries as input study_areas, you have the
option to provide the method used to create the proximity around the
point based on the available travel modes. These travel modes can
be discovered using the <code class="docutils literal notranslate"><span class="pre">Country.travel_modes</span></code> property. Valid
values are from the <code class="docutils literal notranslate"><span class="pre">name</span></code> column in this returned DataFrame.
Also, in addition to the transportation network travel modes, you
also have the option of using <code class="docutils literal notranslate"><span class="pre">straight_line</span></code>, just using a
straight line distance, a buffer, around the geometry. This is the
default, and the only option if the geometry type is line.</p></td>
</tr>
<tr class="row-even"><td><p>proximity_value</p></td>
<td><p>This is the scalar value as either a decimal float or integer
defining the size of the proximity zone around the source geometry
to be used for enrichment. For instance, if desiring a five minute
drive time, this value will be <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>proximity_metric</p></td>
<td><p>This is the unit of measure defining the area to be used in defining
the area surrounding geometries to use for enrichment. If interested
in getting a five minute drive time, this value will be <code class="docutils literal notranslate"><span class="pre">minutes</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>output_spatial_reference</p></td>
<td><p>The default output will be WGS84 (WKID 4326). If a different output
spatial reference is desired, please provide it here as a WKID or
<code class="docutils literal notranslate"><span class="pre">arcgis.features.SpatialReference</span></code> object instance.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Pandas DataFrame with enriched data.</p>
</dd>
</dl>
<p>Here is an example of using ArcGIS Pro with Business Analyst and the United
States data pack installed locally to enrich with a few key variables.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">GIS</span>
<span class="kn">from</span> <span class="nn">arcgis.geoenrichment</span> <span class="kn">import</span> <span class="n">Country</span>

<span class="c1"># create country object instance to use local ArcGIS Pro + Business Analyst + USA data pack</span>
<span class="n">usa</span> <span class="o">=</span> <span class="n">Country</span><span class="p">(</span><span class="s1">&#39;usa&#39;</span><span class="p">,</span> <span class="n">gis</span><span class="o">=</span><span class="n">GIS</span><span class="p">(</span><span class="s1">&#39;pro&#39;</span><span class="p">))</span>

<span class="c1"># select current year key enrichment variables for analysis</span>
<span class="n">ev_df</span> <span class="o">=</span> <span class="n">usa</span><span class="o">.</span><span class="n">enrich_variables</span>
<span class="n">kv_df</span> <span class="o">=</span> <span class="n">ev_df</span><span class="p">[</span>
    <span class="p">(</span><span class="n">ev_df</span><span class="o">.</span><span class="n">data_collection</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">))</span>  <span class="c1"># key data collection</span>
    <span class="o">&amp;</span> <span class="p">(</span><span class="n">ev_df</span><span class="o">.</span><span class="n">alias</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;cy&#39;</span><span class="p">))</span>           <span class="c1"># current year</span>
<span class="p">]</span>

<span class="c1"># get data from ArcGIS Online to enrich as Spatially Enabled DataFrame</span>
<span class="n">itm_id</span> <span class="o">=</span> <span class="s1">&#39;15d227c6da8d4b7baf713709ba3693ce&#39;</span>  <span class="c1"># USA federal district court polygons</span>
<span class="n">gis</span> <span class="o">=</span> <span class="n">GIS</span><span class="p">()</span>  <span class="c1"># anonymous connection to ArcGIS Online</span>
<span class="n">aoi_df</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">itm_id</span><span class="p">)</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">query</span><span class="p">()</span><span class="o">.</span><span class="n">sdf</span>

<span class="c1"># enrich with variables selected above</span>
<span class="n">enrich_df</span> <span class="o">=</span> <span class="n">usa</span><span class="o">.</span><span class="n">enrich</span><span class="p">(</span><span class="n">aoi_df</span><span class="p">,</span> <span class="n">enrich_variables</span><span class="o">=</span><span class="n">kv_df</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, we can perform a similar workflow using ArcGIS Online instead of ArcGIS Pro by creating
a couple of point geometries and using five-minute drive times around the locations.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">GIS</span>
<span class="kn">from</span> <span class="nn">arcgis.geoenrichment</span> <span class="kn">import</span> <span class="n">Country</span>
<span class="kn">from</span> <span class="nn">arcgis.geometry</span> <span class="kn">import</span> <span class="n">Geometry</span>
<span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">find_dotenv</span><span class="p">,</span> <span class="n">load_dotenv</span>

<span class="c1"># load environment settings from .env file</span>
<span class="n">load_dotenv</span><span class="p">(</span><span class="n">find_dotenv</span><span class="p">())</span>

<span class="c1"># create connection to ArcGIS Online organization using values saved in .env file</span>
<span class="n">gis_agol</span> <span class="o">=</span> <span class="n">GIS</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;ESRI_GIS_URL&#39;</span><span class="p">),</span>
    <span class="n">username</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;ESRI_GIS_USERNAME&#39;</span><span class="p">),</span>
    <span class="n">password</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;ESRI_GIS_PASSWORD&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># create a country object instance</span>
<span class="n">usa</span> <span class="o">=</span> <span class="n">Country</span><span class="p">(</span><span class="s1">&#39;usa&#39;</span><span class="p">,</span> <span class="n">gis</span><span class="o">=</span><span class="n">gis_agol</span><span class="p">)</span>

<span class="c1"># get just key variables for the current year</span>
<span class="n">ev_df</span> <span class="o">=</span> <span class="n">usa</span><span class="o">.</span><span class="n">enrich_variables</span>
<span class="n">kv_df</span> <span class="o">=</span> <span class="n">ev_df</span><span class="p">[</span>
    <span class="p">(</span><span class="n">ev_df</span><span class="o">.</span><span class="n">data_collection</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">))</span>  <span class="c1"># key data collection</span>
    <span class="o">&amp;</span> <span class="p">(</span><span class="n">ev_df</span><span class="o">.</span><span class="n">alias</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;cy&#39;</span><span class="p">))</span>           <span class="c1"># current year</span>
<span class="p">]</span>

<span class="c1"># create a couple of point geometries on the fly for the example</span>
<span class="n">coord_lst</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="o">-</span><span class="mf">122.9074835</span><span class="p">,</span> <span class="mf">47.0450249</span><span class="p">),</span>  <span class="c1"># Bayview Grocery Store</span>
    <span class="p">(</span><span class="o">-</span><span class="mf">122.8749600</span><span class="p">,</span> <span class="mf">47.0464031</span><span class="p">)</span>   <span class="c1"># Ralph&#39;s Thriftway Grocery Store</span>
<span class="p">]</span>
<span class="n">geom_lst</span> <span class="o">=</span> <span class="p">[</span><span class="n">Geometry</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">pt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;spatialReference&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;wkid&#39;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">}})</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">coord_lst</span><span class="p">]</span>

<span class="c1"># enrich the geometries and get a spatially enabled dataframe</span>
<span class="n">enrich_df</span> <span class="o">=</span> <span class="n">usa</span><span class="o">.</span><span class="n">enrich</span><span class="p">(</span>
    <span class="n">study_areas</span><span class="o">=</span><span class="n">geom_lst</span><span class="p">,</span>
    <span class="n">enrich_variables</span><span class="o">=</span><span class="n">kv_df</span><span class="p">,</span>
    <span class="n">proximity_type</span><span class="o">=</span><span class="s1">&#39;driving_time&#39;</span><span class="p">,</span>
    <span class="n">proximity_value</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">proxmity_metric</span><span class="o">=</span><span class="s1">&#39;minutes&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Finally, we can also use standard geography identifiers to specify the study_areas as well.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">GIS</span>
<span class="kn">from</span> <span class="nn">arcgis.geoenrichment</span> <span class="kn">import</span> <span class="n">Country</span>
<span class="kn">from</span> <span class="nn">arcgis.geometry</span> <span class="kn">import</span> <span class="n">Geometry</span>
<span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">find_dotenv</span><span class="p">,</span> <span class="n">load_dotenv</span>

<span class="c1"># load environment settings from .env file</span>
<span class="n">load_dotenv</span><span class="p">(</span><span class="n">find_dotenv</span><span class="p">())</span>

<span class="c1"># create connection to ArcGIS Online organization using values saved in .env file</span>
<span class="n">gis_agol</span> <span class="o">=</span> <span class="n">GIS</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;ESRI_GIS_URL&#39;</span><span class="p">),</span>
    <span class="n">username</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;ESRI_GIS_USERNAME&#39;</span><span class="p">),</span>
    <span class="n">password</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;ESRI_GIS_PASSWORD&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># create a country object instance</span>
<span class="n">usa</span> <span class="o">=</span> <span class="n">Country</span><span class="p">(</span><span class="s1">&#39;usa&#39;</span><span class="p">,</span> <span class="n">gis</span><span class="o">=</span><span class="n">gis_agol</span><span class="p">)</span>

<span class="c1"># get just key variables for the current year</span>
<span class="n">ev_df</span> <span class="o">=</span> <span class="n">usa</span><span class="o">.</span><span class="n">enrich_variables</span>
<span class="n">kv_df</span> <span class="o">=</span> <span class="n">ev_df</span><span class="p">[</span>
    <span class="p">(</span><span class="n">ev_df</span><span class="o">.</span><span class="n">data_collection</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">))</span>  <span class="c1"># key data collection</span>
    <span class="o">&amp;</span> <span class="p">(</span><span class="n">ev_df</span><span class="o">.</span><span class="n">alias</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;cy&#39;</span><span class="p">))</span>           <span class="c1"># current year</span>
<span class="p">]</span>

<span class="c1"># the block group ids for Olympia, WA</span>
<span class="n">id_lst</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;530670101001&#39;</span><span class="p">,</span> <span class="s1">&#39;530670101002&#39;</span><span class="p">,</span> <span class="s1">&#39;530670101003&#39;</span><span class="p">,</span> <span class="s1">&#39;530670101004&#39;</span><span class="p">,</span> <span class="s1">&#39;530670102001&#39;</span><span class="p">,</span> <span class="s1">&#39;530670102002&#39;</span><span class="p">,</span>
          <span class="s1">&#39;530670102003&#39;</span><span class="p">,</span> <span class="s1">&#39;530670103001&#39;</span><span class="p">,</span> <span class="s1">&#39;530670103002&#39;</span><span class="p">,</span> <span class="s1">&#39;530670103003&#39;</span><span class="p">,</span> <span class="s1">&#39;530670103004&#39;</span><span class="p">,</span> <span class="s1">&#39;530670104001&#39;</span><span class="p">,</span>
          <span class="s1">&#39;530670104002&#39;</span><span class="p">,</span> <span class="s1">&#39;530670104003&#39;</span><span class="p">,</span> <span class="s1">&#39;530670105101&#39;</span><span class="p">,</span> <span class="s1">&#39;530670105201&#39;</span><span class="p">,</span> <span class="s1">&#39;530670105202&#39;</span><span class="p">,</span> <span class="s1">&#39;530670105203&#39;</span><span class="p">,</span>
          <span class="s1">&#39;530670105204&#39;</span><span class="p">,</span> <span class="s1">&#39;530670106001&#39;</span><span class="p">,</span> <span class="s1">&#39;530670106002&#39;</span><span class="p">,</span> <span class="s1">&#39;530670106003&#39;</span><span class="p">,</span> <span class="s1">&#39;530670106004&#39;</span><span class="p">,</span> <span class="s1">&#39;530670106005&#39;</span><span class="p">,</span>
          <span class="s1">&#39;530670107001&#39;</span><span class="p">,</span> <span class="s1">&#39;530670107002&#39;</span><span class="p">,</span> <span class="s1">&#39;530670107003&#39;</span><span class="p">,</span> <span class="s1">&#39;530670108001&#39;</span><span class="p">,</span> <span class="s1">&#39;530670108002&#39;</span><span class="p">,</span> <span class="s1">&#39;530670109101&#39;</span><span class="p">,</span>
          <span class="s1">&#39;530670109102&#39;</span><span class="p">,</span> <span class="s1">&#39;530670109103&#39;</span><span class="p">,</span> <span class="s1">&#39;530670110001&#39;</span><span class="p">,</span> <span class="s1">&#39;530670111002&#39;</span><span class="p">,</span> <span class="s1">&#39;530670112001&#39;</span><span class="p">,</span> <span class="s1">&#39;530670113001&#39;</span><span class="p">,</span>
          <span class="s1">&#39;530670116211&#39;</span><span class="p">,</span> <span class="s1">&#39;530670117101&#39;</span><span class="p">,</span> <span class="s1">&#39;530670117102&#39;</span><span class="p">,</span> <span class="s1">&#39;530670117103&#39;</span><span class="p">,</span> <span class="s1">&#39;530670120002&#39;</span><span class="p">,</span> <span class="s1">&#39;530670122121&#39;</span><span class="p">,</span>
          <span class="s1">&#39;530670122122&#39;</span><span class="p">,</span> <span class="s1">&#39;530670122124&#39;</span><span class="p">,</span> <span class="s1">&#39;530670111001&#39;</span><span class="p">,</span> <span class="s1">&#39;530670121004&#39;</span><span class="p">]</span>

<span class="c1"># enrich the geometries and get a spatially enabled dataframe</span>
<span class="n">enrich_df</span> <span class="o">=</span> <span class="n">usa</span><span class="o">.</span><span class="n">enrich</span><span class="p">(</span>
    <span class="n">study_areas</span><span class="o">=</span><span class="n">geom_lst</span><span class="p">,</span>
    <span class="n">enrich_variables</span><span class="o">=</span><span class="n">kv_df</span><span class="p">,</span>
    <span class="n">standard_geography_level</span><span class="o">=</span><span class="s1">&#39;block_groups&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.enrich_variables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">enrich_variables</span></span><a class="headerlink" href="#arcgis.geoenrichment.Country.enrich_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Pandas Dataframe of available geoenrichment variables.</p>
<p>For instance, the following code, if run in Jupter, will render the table below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">GIS</span>
<span class="kn">from</span> <span class="nn">arcgis.geoenrichment</span> <span class="kn">import</span> <span class="n">Country</span>

<span class="n">usa</span> <span class="o">=</span> <span class="n">Country</span><span class="p">(</span><span class="s1">&#39;usa&#39;</span><span class="p">,</span> <span class="n">gis</span><span class="o">=</span><span class="n">GIS</span><span class="p">(</span><span class="s1">&#39;pro&#39;</span><span class="p">))</span>

<span class="n">usa</span><span class="o">.</span><span class="n">enrich_variables</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 1%" />
<col style="width: 10%" />
<col style="width: 27%" />
<col style="width: 13%" />
<col style="width: 24%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>name</p></th>
<th class="head"><p>alias</p></th>
<th class="head"><p>data_collection</p></th>
<th class="head"><p>enrich_name</p></th>
<th class="head"><p>enrich_field_name</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>CHILD_CY</p></td>
<td><p>2021 Child Population</p></td>
<td><p>AgeDependency</p></td>
<td><p>AgeDependency.CHILD_CY</p></td>
<td><p>AgeDependency_CHILD_CY</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>WORKAGE_CY</p></td>
<td><p>2021 Working-Age Population</p></td>
<td><p>AgeDependency</p></td>
<td><p>AgeDependency.WORKAGE_CY</p></td>
<td><p>AgeDependency_WORKAGE_CY</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>SENIOR_CY</p></td>
<td><p>2021 Senior Population</p></td>
<td><p>AgeDependency</p></td>
<td><p>AgeDependency.SENIOR_CY</p></td>
<td><p>AgeDependency_SENIOR_CY</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>CHLDDEP_CY</p></td>
<td><p>2021 Child Dependency Ratio</p></td>
<td><p>AgeDependency</p></td>
<td><p>AgeDependency.CHLDDEP_CY</p></td>
<td><p>AgeDependency_CHLDDEP_CY</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>AGEDEP_CY</p></td>
<td><p>2021 Age Dependency Ratio</p></td>
<td><p>AgeDependency</p></td>
<td><p>AgeDependency.AGEDEP_CY</p></td>
<td><p>AgeDependency_AGEDEP_CY</p></td>
</tr>
</tbody>
</table>
<p>The values in this table can be useful for filtering to identify the variables you
want to use for analysis and also for matching to existing datasets. This table,
once filtered to variables of interest can be used as input directly into the
<a class="reference internal" href="#arcgis.geoenrichment.Country.enrich" title="arcgis.geoenrichment.Country.enrich"><code class="xref py py-func docutils literal notranslate"><span class="pre">enrich()</span></code></a> method’s <code class="docutils literal notranslate"><span class="pre">enrich_variables</span></code>
parameter.</p>
<p>Also, the <code class="docutils literal notranslate"><span class="pre">enrich_field_name</span></code> column in this table corresponds to the field
naming convention used in output from the Enrich Layer tool in ArcGIS Pro. This
enables you to, with a little scripting, identify variables used in previous
analysis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.geometry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">geometry</span></span><a class="headerlink" href="#arcgis.geoenrichment.Country.geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="arcgis.geometry.html#arcgis.geometry.Polygon" title="arcgis.geometry.Polygon"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polygon</span></code></a> object delineating the country’s area.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently this is only supported when using a Web GIS (ArcGIS Online
or ArcGIS Enterprise) as the <code class="docutils literal notranslate"><span class="pre">gis</span></code> source.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.get">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.geoenrichment.Country.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a reference to a particular country, given its name, or its
two letter abbreviation or three letter ISO3 code.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name</p></td>
<td><p>Required string. The country name, two letter code or
three letter ISO3 code identifying the country.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional <a class="reference internal" href="arcgis.gis.toc.html#arcgis.gis.GIS" title="arcgis.gis.GIS"><code class="xref py py-class docutils literal notranslate"><span class="pre">GIS</span></code></a> instance. This
specifies what GIS country sources are available based
on the GIS source, a Web GIS (either <cite>ArcGIS Online</cite> or
<cite>ArcGIS Enterprise</cite>) or <cite>ArcGIS Pro with the Business
Analyst extension and at least one country data pack</cite>.
If not explicitly specified, it tries to use an active
GIS already created in the Python session. If an active
GIS is not available, it then tries to use local
resources, ArcGIS Pro with Business Analyst and at least
one country dataset installed locally. Finally, if
neither of these (Pro or an active GIS) are available,
a <a class="reference internal" href="arcgis.gis.toc.html#arcgis.gis.GIS" title="arcgis.gis.GIS"><code class="xref py py-class docutils literal notranslate"><span class="pre">GIS</span></code></a> object instance must be
explicitly provided.</p></td>
</tr>
<tr class="row-even"><td><p>year</p></td>
<td><p>Optional integer. Explicitly specifying the vintage
(year) of data to use. This option is only available
when using a <cite>‘local’</cite> GIS source, and will be
ignored if used with a Web GIS source.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><a class="reference internal" href="#arcgis.geoenrichment.Country" title="arcgis.geoenrichment.Country"><code class="xref py py-class docutils literal notranslate"><span class="pre">Country</span></code></a> instance for the requested country.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.levels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">levels</span></span><a class="headerlink" href="#arcgis.geoenrichment.Country.levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns levels of geography in this country, for the current dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.properties">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">properties</span></span><a class="headerlink" href="#arcgis.geoenrichment.Country.properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">namedtuple</span></code> of relevant properties based on the gis source.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.reports">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reports</span></span><a class="headerlink" href="#arcgis.geoenrichment.Country.reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the available reports for this country as a Pandas dataframe.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently this is only supported when using a Web GIS (ArcGIS Online
or ArcGIS Enterprise as the <code class="docutils literal notranslate"><span class="pre">gis</span></code> source.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['*']</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.geoenrichment.Country.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches this country for places that have the specified query string in their name.</p>
<p>Returns a list of named areas matching the specified query</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>query</p></td>
<td><p>Required string. The query string to search for places
within this country.</p></td>
</tr>
<tr class="row-odd"><td><p>levels</p></td>
<td><p>Optional list of layer ids. Layer ids for a country
can be queried using Country.levels properties.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of named areas that match the query string</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently this is only supported when using a Web GIS (ArcGIS Online
or ArcGIS Enterprise as the <code class="docutils literal notranslate"><span class="pre">gis</span></code> source.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.subgeographies">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">subgeographies</span></span><a class="headerlink" href="#arcgis.geoenrichment.Country.subgeographies" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the named geographical places in this country, as NamedArea objects. Each named area has attributes for
the supported subgeography levels within it, and the value of those attributes are dictionaries containing the
named places within that level of geography. This allows for interactive selection of places using intellisense
and a notation such as the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Usage Example 1</span>

<span class="n">usa</span> <span class="o">=</span> <span class="n">Country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;USA&#39;</span><span class="p">)</span>
<span class="n">usa</span><span class="o">.</span><span class="n">subgeographies</span><span class="o">.</span><span class="n">states</span><span class="p">[</span><span class="s1">&#39;California&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">counties</span><span class="p">[</span><span class="s1">&#39;San_Bernardino_County&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Usage Example 2</span>

<span class="n">india</span><span class="o">.</span><span class="n">named_places</span><span class="o">.</span><span class="n">states</span><span class="p">[</span><span class="s1">&#39;Bihar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">districts</span><span class="p">[</span><span class="s1">&#39;Aurangabad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">subdistricts</span><span class="p">[</span><span class="s1">&#39;Barun&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently this is only supported when using a Web GIS (ArcGIS Online
or ArcGIS Enterprise as the <code class="docutils literal notranslate"><span class="pre">gis</span></code> source.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="arcgis.geoenrichment.Country.travel_modes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">travel_modes</span></span><a class="headerlink" href="#arcgis.geoenrichment.Country.travel_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame of available travel modes for the country. This is determined by what
transportation networks are available for the given country.</p>
<p>For instance, running the following code in Jupyter will return the table below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">GIS</span>
<span class="kn">from</span> <span class="nn">arcgis.geoenrichment</span> <span class="kn">import</span> <span class="n">Country</span>

<span class="n">usa</span> <span class="o">=</span> <span class="n">Country</span><span class="p">(</span><span class="s1">&#39;usa&#39;</span><span class="p">,</span> <span class="n">gis</span><span class="o">=</span><span class="n">GIS</span><span class="p">(</span><span class="s1">&#39;pro&#39;</span><span class="p">))</span>

<span class="n">usa</span><span class="o">.</span><span class="n">travel_modes</span>
</pre></div>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 1%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 24%" />
<col style="width: 8%" />
<col style="width: 12%" />
<col style="width: 7%" />
<col style="width: 12%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>name</p></th>
<th class="head"><p>alias</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>impedance</p></th>
<th class="head"><p>impedance_category</p></th>
<th class="head"><p>time_attribute_name</p></th>
<th class="head"><p>distance_attribute_name</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>driving_time</p></td>
<td><p>Driving Time</p></td>
<td><p>Models the movement of cars…</p></td>
<td><p>AUTOMOBILE</p></td>
<td><p>TravelTime</p></td>
<td><p>temporal</p></td>
<td><p>TravelTime</p></td>
<td><p>Kilometers</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>driving_distance</p></td>
<td><p>Driving Distance</p></td>
<td><p>Models the movement of cars…</p></td>
<td><p>AUTOMOBILE</p></td>
<td><p>Kilometers</p></td>
<td><p>distance</p></td>
<td><p>TravelTime</p></td>
<td><p>Kilometers</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>trucking_time</p></td>
<td><p>Trucking Time</p></td>
<td><p>Models basic truck travel b…</p></td>
<td><p>TRUCK</p></td>
<td><p>TruckTravelTime</p></td>
<td><p>temporal</p></td>
<td><p>TruckTravelTime</p></td>
<td><p>Kilometers</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>trucking_distance</p></td>
<td><p>Trucking Distance</p></td>
<td><p>Models basic truck travel b…</p></td>
<td><p>TRUCK</p></td>
<td><p>Kilometers</p></td>
<td><p>distance</p></td>
<td><p>TruckTravelTime</p></td>
<td><p>Kilometers</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>walking_time</p></td>
<td><p>Walking Time</p></td>
<td><p>Follows paths and roads tha…</p></td>
<td><p>WALK</p></td>
<td><p>WalkTime</p></td>
<td><p>temporal</p></td>
<td><p>WalkTime</p></td>
<td><p>Kilometers</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The values in the <code class="docutils literal notranslate"><span class="pre">name</span></code> column are what is required for the
<code class="docutils literal notranslate"><span class="pre">proximity_type</span></code> parameter for the
<a class="reference internal" href="#arcgis.geoenrichment.Country.enrich" title="arcgis.geoenrichment.Country.enrich"><code class="xref py py-func docutils literal notranslate"><span class="pre">enrich()</span></code></a> method.</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="get-countries">
<h2>get_countries<a class="headerlink" href="#get-countries" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="arcgis.geoenrichment.get_countries">
<span class="sig-prename descclassname"><span class="pre">arcgis.geoenrichment.</span></span><span class="sig-name descname"><span class="pre">get_countries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.geoenrichment.get_countries" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve available countries based on the GIS source being used.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional <a class="reference internal" href="arcgis.gis.toc.html#arcgis.gis.GIS" title="arcgis.gis.GIS"><code class="xref py py-class docutils literal notranslate"><span class="pre">GIS</span></code></a> instance. This specifies what GIS
country sources are available based on the Web GIS source, whether
it be <cite>ArcGIS Online</cite>, <cite>ArcGIS Enterprise</cite>, or <cite>ArcGIS Pro with the
Business Analyst extension and at least one country data pack</cite>. If
not specified, it tries to use an active GIS already created in the
Python session. If an active GIS is not available, it then tries to
use local resourcea, ArcGIS Pro with Business and at least one
country dataset installed locally. Finally, if neither of these
sources are available, a <a class="reference internal" href="arcgis.gis.toc.html#arcgis.gis.GIS" title="arcgis.gis.GIS"><code class="xref py py-class docutils literal notranslate"><span class="pre">GIS</span></code></a> object must be
explicitly provided.</p></td>
</tr>
<tr class="row-odd"><td><p>as_df</p></td>
<td><p>Optional boolean, specifying if a Pandas DataFrame output is
desired. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, (the default) a Pandas DataFrame of available
countries is returned. If <code class="docutils literal notranslate"><span class="pre">False</span></code> , a list of
<a class="reference internal" href="#arcgis.geoenrichment.Country" title="arcgis.geoenrichment.Country"><code class="xref py py-class docutils literal notranslate"><span class="pre">Country</span></code></a> objects is returned.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Available countries as a list of <a class="reference internal" href="#arcgis.geoenrichment.Country" title="arcgis.geoenrichment.Country"><code class="xref py py-class docutils literal notranslate"><span class="pre">Country</span></code></a> objects, or a
Pandas DataFrame of available countries.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="create-report">
<h2>create_report<a class="headerlink" href="#create-report" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="arcgis.geoenrichment.create_report">
<span class="sig-prename descclassname"><span class="pre">arcgis.geoenrichment.</span></span><span class="sig-name descname"><span class="pre">create_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study_areas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_sr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4326</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.geoenrichment.create_report" title="Permalink to this definition">¶</a></dt>
<dd><p>The Create Report method allows you to create many types of high quality reports for a
variety of use cases describing the input area. If a point is used as a study area, the
service will create a 1-mile ring buffer around the point to collect and append enrichment
data. Optionally, you can create a buffer ring or drive-time service area around points of
interest to generate PDF or Excel reports containing relevant information for the area on
demographics, consumer spending, tapestry market, business or market potential.</p>
<p>Report options are available and can be used to describe and gain a better understanding
about the market, customers / clients and competition associated with an area of interest.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>study_areas</p></td>
<td><p>required list. Required parameter: Study areas may be defined by
input points, polygons, administrative boundaries or addresses.</p></td>
</tr>
<tr class="row-odd"><td><p>report</p></td>
<td><p>optional string. identify the id of the report. This may be one of
the many default reports available along with our demographic data
collections or a customized report. Custom report templates are
stored in an ArcGIS Online organization as a Report Template item.
The organization URL and a valid ArcGIS Online authentication token
is required for security purposes to access these templates. If no
report is specified, the default report is census profile for United
States and a general demographic summary report for most countries.</p></td>
</tr>
<tr class="row-even"><td><p>export_format</p></td>
<td><p>Optional parameter to specify the format of the generated report.
Supported formats include PDF and XLSX.</p></td>
</tr>
<tr class="row-odd"><td><p>report_fields</p></td>
<td><p>Optional parameter specifies additional choices to customize
reports. Below is an example of the position on the report header
for each field.</p></td>
</tr>
<tr class="row-even"><td><p>options</p></td>
<td><p>Optional parameter to specify the properties for the study area
buffer. For a full list of valid buffer properties values and
further examples review the Input XY Locations’ options parameter.</p>
<p>By default a 1 mile radius buffer will be applied to point(s) and
address locations to define a study area.</p>
</td>
</tr>
<tr class="row-odd"><td><p>return_type</p></td>
<td><p>Optional parameter used for storing an output report item to Portal
for ArcGIS instead of returning a report to a customer via binary
stream. The attributes are used by Portal to determine where and how
an item is stored. Parameter attributes include: user, folder,
title, item_properties, URL, token, and referrer.
Example</p>
<p>Creating a new output in a Portal for ArcGIS Instance:</p>
<dl class="simple">
<dt>return_type = {‘user’<span class="classifier">‘testUser’,</span></dt><dd><p>‘folder’ : ‘FolderName’,
‘title’ : ‘Report Title’,
‘item_properties’ : ‘&lt;properties&gt;’,
‘url’ : ‘<a class="reference external" href="https://hostname.domain.com/webadaptor">https://hostname.domain.com/webadaptor</a>’,
‘token’ : ‘token’, ‘referrer’ : ‘referrer’}</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p>use_data</p></td>
<td><p>Optional dictionary. This parameter explicitly specify the country
or dataset to query. When all input features specified in the
study_areas parameter describe locations or areas that lie in the
same country or dataset, this parameter can be specified to provide
an additional ‘performance hint’ to the service.</p>
<p>By default, the service will automatically determine the country or
dataset that is associated with each location or area submitted in
the study_areas parameter. Specifying a specific dataset or country
through this parameter will potentially improve response time.</p>
<p>By default, the data apportionment method is determined by the size
of the study area. Small study areas use block apportionment for
higher accuracy whereas large study areas (100 miles or more) will
use a cascading centroid apportionment method to maintain
performance. This default behavior can be overridden by using the
detailed_aggregation parameter.</p>
</td>
</tr>
<tr class="row-odd"><td><p>in_sr</p></td>
<td><p>Optional parameter to define the input geometries in the study_areas
parameter in a specified spatial reference system.
When input points are defined in the study_areas parameter, this
optional parameter can be specified to explicitly indicate the
spatial reference system of the point features. The parameter value
can be specified as the well-known ID describing the projected
coordinate system or geographic coordinate system.
The default is 4326</p></td>
</tr>
<tr class="row-even"><td><p>out_name</p></td>
<td><p>Optional string.  Name of the output file [ending in .pdf or .xlsx)</p></td>
</tr>
<tr class="row-odd"><td><p>out_folder</p></td>
<td><p>Optional string. Name of the save folder</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="enrich">
<h2>enrich<a class="headerlink" href="#enrich" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="arcgis.geoenrichment.enrich">
<span class="sig-prename descclassname"><span class="pre">arcgis.geoenrichment.</span></span><span class="sig-name descname"><span class="pre">enrich</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study_areas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_collections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analysis_variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparison_levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_derivative_variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersecting_geographies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_geometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proximity_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proximity_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proximity_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.geoenrichment.enrich" title="Permalink to this definition">¶</a></dt>
<dd><p>Enrich provides access to a massive dataset describing exactly who people are
in a geographic location. The most common way to delineate study_areas for
enrichment is using polygons delineated areas, although points and lines can
be used as well.</p>
<p>When points or lines are provided, an area surrounding the geometries is used
for enrichment. This area can be defined using additional parameters, but by
default is one kilometer around the geometry. Also, only straight-line distance
is supported with line geometries, but points can use available transportation
network methods – typically drive distance or drive time.</p>
<p>While already popular for site analysis, forecast modeling for a store or
facility location, enrich provides access to a massive amount of data for any
analysis of people and their relationship and interaction with the surrounding
community, culture, economy and even the natural environment. Succinctly,
enrich is how to access data for human geography analysis.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>study_areas</p></td>
<td><p>Required list, FeatureSet or SpatiallyEnabledDataFrame containing
the input areas to be enriched.</p>
<p>study_areas can be a SpatiallyEnabledDataFrame, FeatureSet or a
lists of the following types:
* addresses, points of interest, place names or other
supported locations as strings.
* dicts such as [{“address”:{“Address”:”380 New York St.”,
“Admin1”:”Redlands”,”Admin2”:”CA”,”Postal”:”92373”,
“CountryCode”:”USA”}}] for multiple field addresses
* arcgis.gis.Geometry instances
* BufferStudyArea instances. By default, one-mile ring
buffers are created around the points to collect and append
enrichment data. You can use BufferStudyArea to change the ring
buffer size or create drive-time service areas around the points.
* NamedArea instances to support standard geography. They are
obtained using Country.subgeographies()/search(). When
the NamedArea instances should be combined together (union), a list
of such NamedArea instances should constitute a study area in the
list of requested study areas.</p>
</td>
</tr>
<tr class="row-odd"><td><p>data_collections</p></td>
<td><p>Optional list. A Data Collection is a preassembled list of
attributes that will be used to enrich the input features.
Enrichment attributes can describe various types of information such
as demographic characteristics and geographic context of the
locations or areas submitted as input features in study_areas.</p></td>
</tr>
<tr class="row-even"><td><p>analysis_variables</p></td>
<td><p>Optional list. A Data Collection is a preassembled list of
attributes that will be used to enrich the input features. With the
analysis_variables parameter you can return a subset of variables
enrichment attributes can describe various types of information such
as demographic characteristics and geographic context of the
locations or areas submitted as input features in study_areas.</p></td>
</tr>
<tr class="row-odd"><td><p>add_derivative_variables</p></td>
<td><p>Optional list. This parameter is used to specify an array of string
values that describe what derivative variables to include in the
output. The list of accepted values includes:
[‘percent’,’index’,’average’,’all’,’*’]</p></td>
</tr>
<tr class="row-even"><td><p>comparison_levels</p></td>
<td><p>Optional list of layer IDs for which the intersecting
study_areas should be geoenriched.</p></td>
</tr>
<tr class="row-odd"><td><p>intersecting_geographies</p></td>
<td><p>Optional parameter to explicitly define the geographic layers used
to provide geographic context during the enrichment process. For
example, you can use this optional parameter to return the U.S.
county and ZIP Code that each input study area intersects.
You can intersect input features defined in the study_areas
parameter with standard geography layers that are provided by the
GeoEnrichment class for each country. You can also intersect
features from a publicly available feature service.</p></td>
</tr>
<tr class="row-even"><td><p>return_geometry</p></td>
<td><p>Optional boolean. A parameter to request the output geometries in
the response.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS.  If None, the GIS object will be used from the
arcgis.env.active_gis.  This GIS object must be authenticated and
have the ability to consume credits</p></td>
</tr>
<tr class="row-even"><td><p>proximity_type</p></td>
<td><p>If the input study_areas are points, retrieving enriched
variables requires delineating a zone around each point to use
for apportioning demographic factors to each input geography.
Default is <code class="docutils literal notranslate"><span class="pre">straight_line</span></code>, and if the input geometry is lines,
<code class="docutils literal notranslate"><span class="pre">straight_line</span></code> is the only valid input.</p></td>
</tr>
<tr class="row-odd"><td><p>proximity_value:</p></td>
<td><p>If the input study_areas are points or lines, this is the value used
to create a zone around the points for apportioning demographic
factors. For instance, if specifying five miles, this parameter
value will be <code class="docutils literal notranslate"><span class="pre">5</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>proximity_metric:</p></td>
<td><p>If the input study_areas are point or lines, this is the metric
defining the proximity value. For instance, if specifying one
kilometer, this value will be <code class="docutils literal notranslate"><span class="pre">kilometers</span></code>. Default is
<code class="docutils literal notranslate"><span class="pre">kilometers</span></code>.</p></td>
</tr>
</tbody>
</table>
<p>Refer to <a class="reference external" href="https://developers.arcgis.com/rest/geoenrichment/api-reference/street-address-locations.htm">https://developers.arcgis.com/rest/geoenrichment/api-reference/street-address-locations.htm</a> for
the format of intersection_geographies parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Spatial DataFrame or Panda’s DataFrame with the requested variables for the study areas.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="standard-geography-query">
<h2>standard_geography_query<a class="headerlink" href="#standard-geography-query" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="arcgis.geoenrichment.standard_geography_query">
<span class="sig-prename descclassname"><span class="pre">arcgis.geoenrichment.</span></span><span class="sig-name descname"><span class="pre">standard_geography_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_country</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">country_dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geoquery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_sub_geography</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_geography_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_geography_query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_sr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4326</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_geometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_centroids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generalization_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_fuzzy_search</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_featureset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.geoenrichment.standard_geography_query" title="Permalink to this definition">¶</a></dt>
<dd><p>This method allows you to search and query standard geography areas so that they can be used to
obtain facts about the location using the enrich() method or create reports about.</p>
<p>GeoEnrichment uses the concept of a study area to define the location of the point
or area that you want to enrich with additional information. Locations can also be passed as
one or many named statistical areas. This form of a study area lets you define an area by
the ID of a standard geographic statistical feature, such as a census or postal area. For
example, to obtain enrichment information for a U.S. state, county or ZIP Code or a Canadian
province or postal code, the Standard Geography Query helper method allows you to search and
query standard geography areas so that they can be used in the GeoEnrichment method to
obtain facts about the location.
The most common workflow for this service is to find a FIPS (standard geography ID) for a
geographic name. For example, you can use this service to find the FIPS for the county of
San Diego which is 06073. You can then use this FIPS ID within the GeoEnrichment class study
area definition to get geometry and optional demographic data for the county. This study
area definition is passed as a parameter to the GeoEnrichment class to return data defined
in the enrichment pack and optionally return geometry for the feature.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>source_country</p></td>
<td><p>Optional string. to specify the source country for the search. Use
this parameter to limit the search and query of standard geographic
features to one country. This parameter supports both the two-digit
and three-digit country codes illustrated in the coverage table.</p></td>
</tr>
<tr class="row-odd"><td><p>country_dataset</p></td>
<td><p>Optional string. parameter to specify a specific dataset within a
defined country.</p></td>
</tr>
<tr class="row-even"><td><p>layers</p></td>
<td><p>Optional list/string. Parameter specifies which standard geography
layers are being queried or searched. If this parameter is not
provided, all layers within the defined country will be queried.</p></td>
</tr>
<tr class="row-odd"><td><p>ids</p></td>
<td><p>Optional parameter to specify which IDs for the standard geography
layers are being queried or searched. You can use this parameter to
return attributes and/or geometry for standard geographic areas for
administrative areas where you already know the ID, for example, if
you know the Federal Information Processing Standard (FIPS) Codes for
a U.S. state or county; or, in Canada, to return the geometry and
attributes for a Forward Sortation Area (FSA).
Example:
Return the state of California where the layers parameter is set to
layers=[‘US.States’]
then set ids=[“06”]</p></td>
</tr>
<tr class="row-even"><td><p>geoquery</p></td>
<td><p>Optional string/list. This parameter specifies the text to query
and search the standard geography layers specified. You can use this
parameter to query and find standard geography features that meet an
input term, for example, for a list of all the U.S. counties that
contain the word “orange”. The geoquery parameter can be a string
that contains one or more words.</p></td>
</tr>
<tr class="row-odd"><td><p>return_sub_geography</p></td>
<td><p>Optional boolean. Use this optional parameter to return all the
subgeographic areas that are within a parent geography.
For example, you could return all the U.S. counties for a given
U.S. state or you could return all the Canadian postal areas
(FSAs) within a Census Metropolitan Area (city).
When this parameter is set to true, the output features will be
defined in the sub_geography_layer. The output geometries will be
in the spatial reference system defined by out_sr.</p></td>
</tr>
<tr class="row-even"><td><p>sub_geography_layer</p></td>
<td><p>Optional string/list. Use this optional parameter to return all the
subgeographic areas that are within a parent geography. For example,
you could return all the U.S. counties within a given U.S. state or
you could return all the Canadian postal areas (FSAs) within a
Census Metropolitan Areas (city).
When this parameter is set to true, the output features will be
defined in the sub_geography_layer. The output geometries will be
in the spatial reference system defined by out_sr.</p></td>
</tr>
<tr class="row-odd"><td><p>sub_geography_query</p></td>
<td><p>Optional string.User this parameter to filter the results of the
subgeography features that are returned by a search term.
You can use this parameter to query and find subgeography
features that meet an input term. This parameter is used to
filter the list of subgeography features that are within a
parent geography. For example, you may want a list of all the
ZIP Codes that are within “San Diego County” and filter the
results so that only ZIP Codes that start with “921” are
included in the output response. The subgeography query is a
string that contains one or more words.</p></td>
</tr>
<tr class="row-even"><td><p>out_sr</p></td>
<td><p>Optional integer Use this parameter to request the output geometries
in a specified spatial reference system.</p></td>
</tr>
<tr class="row-odd"><td><p>return_geometry</p></td>
<td><p>Optional boolean. Use this parameter to request the output
geometries in the response.  The return type will become a Spatial
DataFrame instead of a Panda’s DataFrame.</p></td>
</tr>
<tr class="row-even"><td><p>return_centroids</p></td>
<td><p>Optional Boolean.  Use this parameter to request the output geometry
to return the center point for each feature.</p></td>
</tr>
<tr class="row-odd"><td><p>generalization_level</p></td>
<td><p>Optional integer that specifies the level of generalization or
detail in the area representations of the administrative boundary or
standard geographic data layers.
Values must be whole integers from 0 through 6, where 0 is most
detailed and 6 is most generalized.</p></td>
</tr>
<tr class="row-even"><td><p>use_fuzzy_search</p></td>
<td><p>Optional Boolean parameter to define if text provided in the
geoquery parameter should utilize fuzzy search logic. Fuzzy searches
are based on the Levenshtein Distance or Edit Distance algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p>feature_limit</p></td>
<td><p>Optional integer value where you can limit the number of features
that are returned from the geoquery.</p></td>
</tr>
<tr class="row-even"><td><p>as_featureset</p></td>
<td><p>Optional boolean.  The default is False. If True, the result will be
a arcgis.features.FeatureSet object instead of a SpatailDataFrame or
Pandas’ DataFrame.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS.  If None, the GIS object will be used from the
arcgis.env.active_gis.  This GIS object must be authenticated and
have the ability to consume credits</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Spatial or Pandas Dataframe on success, FeatureSet, or dictionary on failure.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="service-limits">
<h2>service_limits<a class="headerlink" href="#service-limits" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="arcgis.geoenrichment.service_limits">
<span class="sig-prename descclassname"><span class="pre">arcgis.geoenrichment.</span></span><span class="sig-name descname"><span class="pre">service_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.geoenrichment.service_limits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Pandas’ DataFrame describing limitations for each input parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

</div>
</div>



           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="arcgis.geometry.html" class="btn btn-neutral float-right" title="arcgis.geometry module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="arcgis.geocoding.html" class="btn btn-neutral float-left" title="arcgis.geocoding module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016-2022, Esri.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  
    Options v: 2.0.1

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Pick an earlier version</span>
      v: 2.0.1
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      
      <dl>
        <dt>Versions</dt>
        
          
          <dd><a href="2.0.0/">2.0.0</a></dd>
          
        
          
          <dd><a href="1.9.1/">1.9.1</a></dd>
          
        
          
          <dd><a href="1.9.0/">1.9.0</a></dd>
          
        
          
          <dd><a href="1.8.5/">1.8.5</a></dd>
          
        
          
          <dd><a href="1.8.4/">1.8.4</a></dd>
          
        
          
          <dd><a href="1.8.3/">1.8.3</a></dd>
          
        
          
          <dd><a href="1.8.2/">1.8.2</a></dd>
          
        
          
          <dd><a href="1.8.1/">1.8.1</a></dd>
          
        
          
          <dd><a href="1.8.0/">1.8.0</a></dd>
          
        
          
          <dd><a href="1.7.1/">1.7.1</a></dd>
          
        
          
          <dd><a href="1.7.0/">1.7.0</a></dd>
          
        
          
          <dd><a href="1.6.2/">1.6.2</a></dd>
          
        
          
          <dd><a href="1.6.1/">1.6.1</a></dd>
          
        
          
          <dd><a href="1.6.0/">1.6.0</a></dd>
          
        
          
          <dd><a href="1.5.2/">1.5.2</a></dd>
          
        
          
          <dd><a href="1.5.1/">1.5.1</a></dd>
          
        
          
          <dd><a href="1.5.0/">1.5.0</a></dd>
          
        
          
          <dd><a href="1.4.2/">1.4.2</a></dd>
          
        
          
          <dd><a href="1.4.1/">1.4.1</a></dd>
          
        
          
          <dd><a href="1.4.0/">1.4.0</a></dd>
          
        
          
          <dd><a href="1.3.0/">1.3.0</a></dd>
          
        
          
          <dd><a href="1.2.5/">1.2.5</a></dd>
          
        
          
          <dd><a href="1.2.4/">1.2.4</a></dd>
          
        
          
          <dd><a href="1.2.3/">1.2.3</a></dd>
          
        
          
          <dd><a href="1.2.2/">1.2.2</a></dd>
          
        
          
          <dd><a href="1.2.1/">1.2.1</a></dd>
          
        
          
          <dd><a href="1.2.0/">1.2.0</a></dd>
          
        
          
          <dd><a href="1.1.0/">1.1.0</a></dd>
          
        
          
          <dd><a href="1.0.1/">1.0.1</a></dd>
          
        
          
          <dd><a href="1.0.0/">1.0.0</a></dd>
          
        
          
          <dd><a href="0.3.0/">0.3.0</a></dd>
          
        
          
          <dd><a href="0.2.0/">0.2.0</a></dd>
          
        
          
          <dd><a href="0.1.0/">0.1.0</a></dd>
          
        
      </dl>
      
      
      
    </div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>